/* Enhanced dark theme styles for improved readability and aesthetics */

/* Global text improvements */
html[data-theme="dark"] {
  --enhanced-text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
  --enhanced-glow: 0 0 15px rgba(var(--accent-rgb), 0.2);
}

/* Enhanced text rendering for dark theme */
html[data-theme="dark"] body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Improved main content readability */
html[data-theme="dark"] #main-content {
  line-height: 1.8;
}

/* Enhanced focus styles */
html[data-theme="dark"] a:focus-visible,
html[data-theme="dark"] button:focus-visible {
  outline-color: var(--color-accent);
  outline-offset: 3px;
  box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.3);
}

/* Enhanced headings */
html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3 {
  color: white;
  font-weight: 700;
  text-shadow: var(--enhanced-text-shadow);
  letter-spacing: -0.01em;
}

/* Main page title enhancement */
html[data-theme="dark"] h1.text-accent {
  text-shadow: 0 0 15px rgba(var(--accent-rgb), 0.3);
}

/* Code blocks and syntax highlighting enhancements */
html[data-theme="dark"] pre:has(code) {
  background-color: #1a1b26; /* Slightly blue-tinted dark background */
  border: 1px solid rgba(var(--accent-rgb), 0.2);
  box-shadow: var(--enhanced-glow);
}

html[data-theme="dark"] pre:has(code)::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(
    to right,
    var(--color-primary),
    var(--color-accent)
  );
  border-radius: 3px 3px 0 0;
}

/* Copy code button enhanced styling */
html[data-theme="dark"] .copy-code {
  background-color: rgba(var(--accent-rgb), 0.2);
  color: white;
  border: 1px solid rgba(var(--accent-rgb), 0.3);
  opacity: 0.8;
  transition: all 0.2s ease;
}

html[data-theme="dark"] .copy-code:hover {
  background-color: rgba(var(--accent-rgb), 0.4);
  opacity: 1;
}

/* Link hover effects and animations */
html[data-theme="dark"] a:not(.tag, .copy-code, .heading-link):hover {
  color: var(--color-accent);
  text-shadow: 0 0 8px rgba(var(--accent-rgb), 0.3);
  transition: color 0.2s ease, text-shadow 0.2s ease;
}

/* Enhance the "Back to Top" button */
html[data-theme="dark"] #back-to-top:hover {
  color: var(--color-accent);
  transform: translateY(-2px);
}

/* Previous/Next post navigation enhancements */
html[data-theme="dark"] [data-pagefind-ignore] a:hover {
  opacity: 1 !important;
}

html[data-theme="dark"] [data-pagefind-ignore] a:hover .text-accent\/85 {
  color: var(--color-accent);
  text-shadow: 0 0 8px rgba(var(--accent-rgb), 0.3);
}
