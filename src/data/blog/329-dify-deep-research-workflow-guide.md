---
pubDatetime: 2025-05-22
tags: ["AI", "Productivity", "Tools"]
slug: dify-deep-research-workflow-guide
source: https://dify.ai/blog/deep-research-workflow-in-dify-a-step-by-step-guide
title: æ‰“é€ AIæ™ºèƒ½æ·±åº¦ç ”ç©¶å¼•æ“ï¼šDifyå·¥ä½œæµå®æˆ˜æŒ‡å—ï¼ˆé™„å›¾è¯¦è§£ï¼‰
description: é¢å‘AIå¼€å‘è€…ã€è‡ªåŠ¨åŒ–äº§å“ç»ç†ã€æ•°æ®å·¥ç¨‹å¸ˆå’Œç§‘ç ”å›¢é˜Ÿï¼Œè¯¦è§£å¦‚ä½•åœ¨Difyå¹³å°æ­å»ºç»“æ„åŒ–ã€å¯è¿­ä»£çš„æ·±åº¦ç ”ç©¶æ™ºèƒ½ä½“ï¼Œå®ç°é«˜æ•ˆçŸ¥è¯†å‘ç°ä¸å†³ç­–ã€‚
---

# æ‰“é€ AIæ™ºèƒ½æ·±åº¦ç ”ç©¶å¼•æ“ï¼šDifyå·¥ä½œæµå®æˆ˜æŒ‡å—ï¼ˆé™„å›¾è¯¦è§£ï¼‰

## å¼•è¨€ï¼šè®©AIæˆä¸ºä½ çš„è¶…çº§ç ”ç©¶å‘˜ ğŸš€

ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼Ÿé¢å¯¹å¤æ‚çš„ç§‘ç ”é€‰é¢˜ã€å¸‚åœºè°ƒç ”ï¼Œæˆ–è€…ä»£ç æ’é”™ï¼Œä¼ ç»Ÿæœç´¢æ€»æ˜¯è®©ä½ â€œä¸€æŸ¥åä¸å…¨â€ï¼Œéœ€è¦å¤šæ¬¡åˆ‡æ¢å…³é”®è¯ã€åå¤ç­›æŸ¥ç»“æœï¼Œæ•ˆç‡ä½ä¸‹ä¸”æ˜“é—æ¼å…³é”®ä¿¡æ¯ã€‚å¦‚ä»Šï¼ŒGoogle Geminiã€ChatGPTç­‰é¡¶çº§AIå¹³å°å·²å¼€å§‹é›†æˆâ€œDeep Researchâ€èƒ½åŠ›ï¼Œå¸®åŠ©ç”¨æˆ·ç³»ç»Ÿæ€§æŒ–æ˜çŸ¥è¯†ï¼Œè‡ªåŠ¨è¯†åˆ«ä¿¡æ¯ç¼ºå£å¹¶è¾“å‡ºç»“æ„åŒ–æŠ¥å‘Šã€‚

æœ¬æ–‡å°†ä¸ºAIå¼€å‘è€…ã€è‡ªåŠ¨åŒ–äº§å“ç»ç†ã€æ•°æ®å·¥ç¨‹å¸ˆåŠç§‘ç ”å›¢é˜Ÿè¯¦ç»†è§£æï¼Œå¦‚ä½•åŸºäº Dify å¹³å°ç”¨ä½ä»£ç /æ— ä»£ç æ–¹å¼å¿«é€Ÿæ­å»ºä¸€å¥—æ™ºèƒ½æ·±åº¦ç ”ç©¶å·¥ä½œæµï¼Œè®©AIä¸åªæ˜¯â€œæŸ¥èµ„æ–™â€ï¼Œè€Œæ˜¯å­¦ä¼šåƒä¸“å®¶ä¸€æ ·å‘ç°ã€è¿½é—®ã€æ€»ç»“ä¸å¼•ç”¨ï¼Œä¸ºä½ çš„ç ”å‘å’Œå†³ç­–å¢æ·»ä¸€å¯¹â€œè¶…çº§å¤§è„‘â€ğŸ‘©â€ğŸ”¬ğŸ¤–ã€‚

---

## ä¸€ã€Difyæ·±åº¦ç ”ç©¶å·¥ä½œæµï¼šæ•´ä½“è®¾è®¡æ€è·¯

æœ¬æŒ‡å—æ‰€è¿° Deep Research Workflow ç”±ä¸‰å¤§æ ¸å¿ƒç¯èŠ‚ç»„æˆï¼š

1. **ç ”ç©¶æ„å›¾è¯†åˆ«**ï¼šæ”¶é›†ä¸»é¢˜ä¸ä¸Šä¸‹æ–‡ï¼Œæ˜ç¡®ç›®æ ‡ã€‚
2. **åŠ¨æ€å¾ªç¯æ¢ç´¢**ï¼šå¤šè½®è‡ªåŠ¨æŸ¥æ‰¾çŸ¥è¯†ç‚¹ã€è¯†åˆ«ç¼ºå£ã€èšåˆå‘ç°ã€‚
3. **ç»“æ„åŒ–æ€»ç»“è¾“å‡º**ï¼šæ•´åˆæ‰€æœ‰ä¿¡æ¯ï¼Œç”Ÿæˆè§„èŒƒå¼•ç”¨çš„åˆ†ææŠ¥å‘Šã€‚

è¿™ç§æ¨¡å¼æ­£å¥½å¤åˆ»äº†äººç±»èµ„æ·±ç ”ç©¶å‘˜çš„æ€è€ƒè·¯å¾„ï¼šâ€œæˆ‘å·²ç»çŸ¥é“ä»€ä¹ˆï¼Ÿè¿˜ç¼ºå“ªäº›ï¼Ÿä¸‹ä¸€æ­¥è¯¥å»å“ªæ‰¾ï¼Ÿâ€â€”â€”ä½†ä¸€åˆ‡éƒ½å¯ä»¥è‡ªåŠ¨åŒ–å®Œæˆï¼

---

## äºŒã€Phase 1ï¼šç ”ç©¶åŸºç¡€æ­å»º

### 1. é…ç½® Start èŠ‚ç‚¹ï¼šè¾“å…¥æ ¸å¿ƒå‚æ•°

- **research topic**ï¼šæ˜ç¡®ç ”ç©¶ä¸»é¢˜
- **max loop**ï¼šè®¾å®šæœ¬æ¬¡æ¢ç´¢æœ€å¤§å¾ªç¯æ¬¡æ•°ï¼ˆé¿å…æ­»å¾ªç¯/èµ„æºæµªè´¹ï¼‰

![Dify StartèŠ‚ç‚¹é…ç½®ç¤ºæ„](https://framerusercontent.com/images/elxQAXd3p26JHnT2FRl6Ur1kE.png)

### 2. èƒŒæ™¯çŸ¥è¯†é¢„è·å–

å»ºè®®æ¥å…¥ Exa Answer å·¥å…·ï¼Œå…ˆçˆ¬å–éƒ¨åˆ†åŸºç¡€èµ„æ–™ï¼ˆå¦‚æœ¯è¯­è§£é‡Šã€ç°æœ‰å…±è¯†ï¼‰ï¼Œä¸ºåç»­AIç†è§£å’Œæ¨ç†æ‰“ä¸‹åº•å±‚è®¤çŸ¥åŸºç¡€ã€‚

![Exaå·¥å…·ä¸å˜é‡é…ç½®ç•Œé¢](https://framerusercontent.com/images/EhIWg3JSDcZhRLGQe5iki7CkiNI.png)

### 3. æ„å›¾åˆ†æï¼šLLMèŠ‚ç‚¹æ·±æŒ–çœŸå®éœ€æ±‚

é€šè¿‡å¤§æ¨¡å‹èŠ‚ç‚¹æç‚¼ç”¨æˆ·éœ€æ±‚ï¼Œå°†è¡¨é¢é—®é¢˜è½¬åŒ–ä¸ºå¯ç»†åˆ†ã€å¯è¿½æº¯çš„æ·±åº¦ç ”ç©¶å­é—®é¢˜ã€‚

![æ„å›¾åˆ†æèŠ‚ç‚¹é…ç½®åŠä¸Šä¸‹æ–‡è®¾ç½®](https://framerusercontent.com/images/i4mbdrFrSrUFuDp60fxG1mVvjvc.png)

---

## ä¸‰ã€Phase 2ï¼šåŠ¨æ€å¾ªç¯â€”â€”çŸ¥è¯†å‘ç°ä¸è¿­ä»£

### 1. LoopèŠ‚ç‚¹ï¼šä¿¡æ¯ç´¯ç§¯çš„æ ¸å¿ƒå¼•æ“

LoopèŠ‚ç‚¹å®ç°ä¿¡æ¯è·¨è½®è¿­ä»£ä¼ é€’ï¼Œå®ç°â€œè¾¹æœé›†è¾¹å½’çº³â€ï¼š

- **findings**ï¼šæ¯è½®æ–°å‘ç°çš„çŸ¥è¯†ç‚¹
- **executed_querys**ï¼šå†å²æ£€ç´¢é˜²æ­¢é‡å¤
- **current_loop**ï¼šå¾ªç¯è®¡æ•°
- **visited_urls/image_urls**ï¼šè¿½è¸ªæ‰€æœ‰æ¥æºä¾¿äºå¼•ç”¨
- **knowledge_gaps**ï¼šåŠ¨æ€æš´éœ²çš„ä¿¡æ¯ç›²åŒº

![LoopèŠ‚ç‚¹å˜é‡è¿½è¸ªä¸æµç¨‹å›¾](https://framerusercontent.com/images/PWXvggJIDcgnnDNa8tmh04iLF5I.png)

#### å¯¹æ¯”ä¼ ç»Ÿæµç¨‹ï¼š

- æ™®é€šå˜é‡åªå•å‘ä¼ é€’ï¼ˆNode 1â†’2â†’3ï¼‰
- Loopå˜é‡å¯å›æº¯å†å²è¿­ä»£ï¼ŒåƒçŸ¥è¯†ç½‘ç»œä¸€æ ·ç´¯ç§¯ä¼˜åŒ–ï¼Œæå¤§æå‡æ•ˆç‡ä¸å‡†ç¡®æ€§

![æ™®é€šæµç¨‹ä¸Loopæµç¨‹å¯¹æ¯”ç¤ºæ„å›¾](https://framerusercontent.com/images/yxMNQCGEtMrc9PaOTFSG4fJ2WI.png)

### 2. ReasoningèŠ‚ç‚¹ï¼šç»“æ„åŒ–è¾“å‡ºï¼Œé—®å¾—æ›´ç²¾å‡†

å€ŸåŠ© Dify çš„ Structured Output Editorï¼Œå°†LLMè¾“å‡ºæ ‡å‡†åŒ–ä¸ºå¦‚ä¸‹JSONæ ¼å¼ï¼š

```json
{
  "reasoning": "è¡ŒåŠ¨è·¯å¾„é€‰æ‹©ä¾æ®",
  "search_query": "ç”¨äºæ–°ä¸€è½®æ¢ç´¢çš„ç²¾å‡†æŸ¥è¯¢",
  "knowledge_gaps": "ä»éœ€è¡¥è¶³çš„çŸ¥è¯†ç‚¹"
}
```

è¿™æ ·ï¼Œä¸‹æ¸¸èŠ‚ç‚¹å³å¯è‡ªåŠ¨è§£ææ¨ç†é“¾è·¯ã€æ£€ç´¢ç›®æ ‡ä¸çŸ¥è¯†ç¼ºå£ï¼Œå®ç°é«˜åº¦è‡ªåŠ¨åŒ–å†³ç­–ã€‚

![ç»“æ„åŒ–è¾“å‡ºé…ç½®ä¸Schemaç¼–è¾‘ç•Œé¢](https://framerusercontent.com/images/PK0R1abx04WqaEFyeqXkb8MyY.png)
![JSON Schemaå®ä¾‹æˆªå›¾](https://framerusercontent.com/images/r0sVMLgkcczpNoaf3DcZQpJeM78.png)

### 3. AgentèŠ‚ç‚¹ï¼šè‡ªåŠ¨é€‰æ‹©å·¥å…·æ‰§è¡Œè¡ŒåŠ¨

AgentèŠ‚ç‚¹ç›¸å½“äºAIâ€œè¡ŒåŠ¨æ´¾â€ï¼Œæ ¹æ® Reasoning èŠ‚ç‚¹ç»™å‡ºçš„search_queryï¼Œè‡ªåŠ¨è°ƒç”¨ï¼š

- **exa_search**ï¼šå…¨ç½‘æ£€ç´¢
- **exa_content**ï¼šæŒ‡å®šURLå†…å®¹æŠ“å–
- **think**ï¼šç±»Claudeæ€è€ƒå·¥å…·ï¼Œç”¨äºè‡ªæˆ‘åæ€å’Œè§„åˆ’ä¸‹ä¸€æ­¥ï¼ˆç±»ä¼¼ç§‘å­¦å®¶åšç¬”è®°å’Œå½’çº³ï¼‰

å¦‚æ­¤ï¼Œæ¯ä¸€æ¬¡è¿­ä»£ä¸ä»…èƒ½æ‰¾æ–°èµ„æ–™ï¼Œè¿˜èƒ½ä¸æ–­è‡ªæˆ‘å®Œå–„è¡ŒåŠ¨ç­–ç•¥ã€‚

![AgentèŠ‚ç‚¹ä¸å·¥å…·é“¾ç®¡ç†ç•Œé¢](https://framerusercontent.com/images/0CLuSpFDGCISe9TmopYHKQFzc.png)

### 4. ç»“æœè¿½è¸ªä¸çŠ¶æ€ç®¡ç†

æ¯è½®å¾ªç¯ç»“æŸåï¼Œé€šè¿‡ Variable Assigner èŠ‚ç‚¹ï¼ŒæŠŠæœ¬è½®æ–°å˜é‡å†™å›å…¨å±€çŠ¶æ€ï¼Œä¸ºä¸‹æ¬¡å¾ªç¯æ‰“åŸºç¡€ã€‚

![å˜é‡èµ‹å€¼ä¸æµç¨‹æ§åˆ¶ç•Œé¢](https://framerusercontent.com/images/ALkQmoYYwpswtscez8zK52NYQ.png)

---

## å››ã€Phase 3ï¼šç»“æ„åŒ–æ€»ç»“ä¸å­¦æœ¯å¼•ç”¨

å…¨éƒ¨æ¢ç´¢å®Œæˆåï¼Œé€šè¿‡ Final Summary èŠ‚ç‚¹å°†æ‰€æœ‰ findingsã€æ¥æºURLå’Œå›¾ç‰‡ç­‰æ±‡æ€»æˆå¸¦æœ‰Markdownå¼•ç”¨æ ¼å¼çš„å®Œæ•´æŠ¥å‘Šã€‚å¹¶å¯åœ¨å…³é”®èŠ‚ç‚¹æ’å…¥ AnswerèŠ‚ç‚¹ï¼Œå®æ—¶æ¨é€è¿›å±•ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿½è¸ªæ¯ä¸€æ­¥çš„ç»“æœå’Œå¼•ç”¨å‡ºå¤„ã€‚

![æœ€ç»ˆæŠ¥å‘Šç”ŸæˆèŠ‚ç‚¹ä¸ç•Œé¢å±•ç¤º](https://framerusercontent.com/images/3mDsHnoCl7F8QP1F4ZS7FeiYa84.png)

---

## äº”ã€ç»“è®ºä¸å±•æœ›

é€šè¿‡ Dify çš„æ·±åº¦ç ”ç©¶å·¥ä½œæµï¼Œæˆ‘ä»¬ä¸ä»…å¤åˆ»äº†ä¸“å®¶çº§çš„æ¨ç†å’Œæ£€ç´¢è¿‡ç¨‹ï¼Œæ›´å°†å…¶æ•°å­—åŒ–ã€è‡ªåŠ¨åŒ–ï¼Œå¤§å¹…æå‡äº†å›¢é˜Ÿçš„çŸ¥è¯†å‘ç°ä¸å†³ç­–æ•ˆç‡ã€‚æœªæ¥ï¼ŒçœŸæ­£é«˜æ•ˆçš„ç ”ç©¶ä¸æ˜¯â€œæ•°æ®è¶Šå¤šè¶Šå¥½â€ï¼Œè€Œæ˜¯è¦â€œæ›´æ™ºèƒ½åœ°åˆ©ç”¨æ•°æ®â€â€”â€”è€Œä½ åªéœ€ä¸“æ³¨äºæå¥½é—®é¢˜ï¼Œå…¶ä½™äº¤ç»™AIã€‚

---

## äº’åŠ¨è®¨è®º ğŸ¯

ä½ æ˜¯å¦å°è¯•è¿‡ç”¨ AI é©±åŠ¨çš„æ·±åº¦ç ”ç©¶å·¥å…·ï¼Ÿä½ è®¤ä¸º Dify çš„è¿™ç±»å·¥ä½œæµè¿˜å¯ä»¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿ  
æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµæƒ³æ³•ï¼Œæˆ–åˆ†äº«ä½ åœ¨å®é™…é¡¹ç›®ä¸­çš„ç»éªŒï¼åˆ«å¿˜äº†ç‚¹èµã€è½¬å‘ç»™åŒæ ·å…³æ³¨AIç”Ÿäº§åŠ›å·¥å…·çš„å°ä¼™ä¼´å“¦ï½

---

> æœ¬æ–‡å‚è€ƒè‡ª [Difyå®˜æ–¹åšå®¢ Deep Research Workflow æŒ‡å—](https://dify.ai/blog/deep-research-workflow-in-dify-a-step-by-step-guide)ã€‚  
> æ›´å¤šæŠ€æœ¯ç»†èŠ‚è§ [Difyå®˜æ–¹æ–‡æ¡£](https://docs.dify.ai/en/introduction) æˆ– GitHub æºç ã€‚
